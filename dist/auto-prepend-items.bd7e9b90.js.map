{"version":3,"sources":["auto-prepend-items.tsx"],"names":[],"mappings":";;;;;;;AAAA;;AAEA;;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAEA,SAAS,QAAT,CAAkB,KAAlB,EAA+B;AAC7B,SAAO,KAAK,GAAG,CAAR,GAAY,6BAAZ,GAA4C,+BAAnD;AACD;;AAED,SAAS,IAAT,GAAuB;AAAA,MAAT,KAAS,uEAAD,CAAC;;AACrB,MAAM,SAAS,GAAG,eAAM,IAAN,CAAW,SAAX,EAAlB;;AACA,MAAM,QAAQ,GAAG,eAAM,IAAN,CAAW,QAAX,EAAjB;;AAEA,SAAO;AACL,IAAA,KAAK,EAAE,KAAK,GAAG,CADV;AAEL,IAAA,OAAO,EAAE,QAAQ,CAAC,KAAD,CAFZ;AAGL,IAAA,IAAI,YAAK,SAAL,cAAkB,QAAlB,CAHC;AAIL,IAAA,QAAQ,YAAK,SAAS,CAAC,MAAV,CAAiB,CAAjB,EAAoB,CAApB,CAAL,SAA8B,QAAQ,CAAC,MAAT,CAAgB,CAAhB,EAAmB,CAAnB,CAA9B,CAJH;AAKL,IAAA,QAAQ,EAAE,eAAM,IAAN,CAAW,QAAX,EALL;AAML,IAAA,WAAW,EAAE,eAAM,KAAN,CAAY,QAAZ,CAAqB,EAArB,CANR;AAOL,IAAA,QAAQ,EAAE,eAAM,KAAN,CAAY,UAAZ,CAAuB,CAAvB;AAPL,GAAP;AASD;;AAED,IAAM,SAAS,GAA8B,EAA7C;;AAEA,IAAM,aAAa,GAAG,SAAhB,aAAgB,CAAC,MAAD,EAAmC;AAAA,MAAlB,UAAkB,uEAAL,CAAK;AACvD,SAAO,KAAK,CAAC,IAAN,CAAW;AAAE,IAAA,MAAM,EAAN;AAAF,GAAX,EAAuB,UAAC,CAAD,EAAI,CAAJ;AAAA,WAAU,OAAO,CAAC,CAAC,GAAG,UAAL,CAAjB;AAAA,GAAvB,CAAP;AACD,CAFD;;AAIA,IAAM,OAAO,GAAG,SAAV,OAAU,CAAC,KAAD,EAAkB;AAChC,MAAI,CAAC,SAAS,CAAC,KAAD,CAAd,EAAuB;AACrB,IAAA,SAAS,CAAC,KAAD,CAAT,GAAmB,IAAI,CAAC,KAAD,CAAvB;AACD;;AAED,SAAO,SAAS,CAAC,KAAD,CAAhB;AACD,CAND;;AAQc,SAAU,GAAV,GAAa;AACzB,MAAM,WAAW,GAAG,KAApB;AACA,MAAM,kBAAkB,GAAG,EAA3B;;AAFyB,kBAImB,oBAAS,WAAT,CAJnB;AAAA;AAAA,MAIlB,cAJkB;AAAA,MAIF,iBAJE;;AAAA,mBAKC,oBAAS;AAAA,WAAM,aAAa,CAAC,kBAAD,EAAqB,WAArB,CAAnB;AAAA,GAAT,CALD;AAAA;AAAA,MAKlB,KALkB;AAAA,MAKX,QALW;;AAOzB,MAAM,YAAY,GAAG,uBAAY,YAAK;AACpC,QAAM,cAAc,GAAG,EAAvB;AACA,QAAM,kBAAkB,GAAG,cAAc,GAAG,cAA5C;AAEA,IAAA,UAAU,CAAC,YAAK;AACd,MAAA,iBAAiB,CAAC;AAAA,eAAM,kBAAN;AAAA,OAAD,CAAjB;AACA,MAAA,QAAQ,CAAC;AAAA,4CAAU,aAAa,CAAC,cAAD,EAAiB,kBAAjB,CAAvB,sBAAgE,KAAhE;AAAA,OAAD,CAAR;AACD,KAHS,EAGP,CAHO,CAAV;AAKA,WAAO,KAAP;AACD,GAVoB,EAUlB,CAAC,cAAD,EAAiB,KAAjB,EAAwB,QAAxB,CAVkB,CAArB;AAYA,SACE,KAAA,CAAA,aAAA,CAAC,aAAD,EAAS;AACP,IAAA,KAAK,EAAE;AAAE,MAAA,MAAM,EAAE;AAAV,KADA;AAEP,IAAA,UAAU,EAAE;AACV,MAAA,MAAM,EAAE;AAAA,eAAM,KAAA,CAAA,aAAA,CAAA,KAAA,EAAA;AAAK,UAAA,KAAK,EAAE;AAAE,YAAA,SAAS,EAAE,QAAb;AAAuB,YAAA,OAAO,EAAE;AAAhC;AAAZ,SAAA,EAAoD,YAApD,CAAN;AAAA;AADE,KAFL;AAKP,IAAA,cAAc,EAAE,cALT;AAMP,IAAA,uBAAuB,EAAE,kBAAkB,GAAG,CANvC;AAOP,IAAA,IAAI,EAAE,KAPC;AAQP,IAAA,YAAY,EAAE,YARP;AASP,IAAA,WAAW,EAAE,qBAAC,CAAD,EAAI,IAAJ,EAAY;AACvB,aACE,KAAA,CAAA,aAAA,CAAA,KAAA,EAAA;AAAK,QAAA,KAAK,EAAE;AAAE,UAAA,eAAe,EAAE,IAAI,CAAC,OAAxB;AAAiC,UAAA,OAAO,EAAE;AAA1C;AAAZ,OAAA,EACE,KAAA,CAAA,aAAA,CAAA,IAAA,EAAA,IAAA,EACG,IAAI,CAAC,KADR,MAAA,EACiB,IAAI,CAAC,IADtB,CADF,EAIE,KAAA,CAAA,aAAA,CAAA,KAAA,EAAA;AAAK,QAAA,KAAK,EAAE;AAAE,UAAA,SAAS,EAAE;AAAb;AAAZ,OAAA,EAAoC,IAAI,CAAC,WAAzC,CAJF,CADF;AAQD;AAlBM,GAAT,CADF;AAsBD","file":"auto-prepend-items.bd7e9b90.js","sourceRoot":"../examples","sourcesContent":["import { useCallback, useState } from 'react'\nimport * as React from 'react'\nimport { Virtuoso } from '../src'\nimport faker from 'faker'\n\nfunction toggleBg(index: number) {\n  return index % 2 ? 'var(--ifm-background-color)' : 'var(--ifm-color-emphasis-200)'\n}\n\nfunction user(index = 0) {\n  const firstName = faker.name.firstName()\n  const lastName = faker.name.lastName()\n\n  return {\n    index: index + 1,\n    bgColor: toggleBg(index),\n    name: `${firstName} ${lastName}`,\n    initials: `${firstName.substr(0, 1)}${lastName.substr(0, 1)}`,\n    jobTitle: faker.name.jobTitle(),\n    description: faker.lorem.sentence(10),\n    longText: faker.lorem.paragraphs(1),\n  }\n}\n\nconst generated: ReturnType<typeof user>[] = []\n\nconst generateUsers = (length: number, startIndex = 0) => {\n  return Array.from({ length }, (_, i) => getUser(i + startIndex))\n}\n\nconst getUser = (index: number) => {\n  if (!generated[index]) {\n    generated[index] = user(index)\n  }\n\n  return generated[index]\n}\n\nexport default function App() {\n  const START_INDEX = 10000\n  const INITIAL_ITEM_COUNT = 20\n\n  const [firstItemIndex, setFirstItemIndex] = useState(START_INDEX)\n  const [users, setUsers] = useState(() => generateUsers(INITIAL_ITEM_COUNT, START_INDEX))\n\n  const prependItems = useCallback(() => {\n    const usersToPrepend = 20\n    const nextFirstItemIndex = firstItemIndex - usersToPrepend\n\n    setTimeout(() => {\n      setFirstItemIndex(() => nextFirstItemIndex)\n      setUsers(() => [...generateUsers(usersToPrepend, nextFirstItemIndex), ...users])\n    }, 5)\n\n    return false\n  }, [firstItemIndex, users, setUsers])\n\n  return (\n    <Virtuoso\n      style={{ height: 500 }}\n      components={{\n        Header: () => <div style={{ textAlign: 'center', padding: '1rem' }}>Loading...</div>,\n      }}\n      firstItemIndex={firstItemIndex}\n      initialTopMostItemIndex={INITIAL_ITEM_COUNT - 1}\n      data={users}\n      startReached={prependItems}\n      itemContent={(_, user) => {\n        return (\n          <div style={{ backgroundColor: user.bgColor, padding: '1rem 0.5rem' }}>\n            <h4>\n              {user.index}. {user.name}\n            </h4>\n            <div style={{ marginTop: '1rem' }}>{user.description}</div>\n          </div>\n        )\n      }}\n    />\n  )\n}\n"]}