import{systemToComponent as e}from"@virtuoso.dev/react-urx";import{system as t,stream as n,statefulStream as o,connect as r,pipe as i,map as l,getValue as a,streamFromEmitter as u,filter as s,distinctUntilChanged as c,subscribe as d,tup as f,merge as m,duc as h,skip as p,mapTo as g,debounceTime as v,statefulStreamFromEmitter as I,combineLatest as C,scan as S,publish as x,throttleTime as T,withLatestFrom as w,handleNext as y,noop as b,prop as H,tap as R,compose as z}from"@virtuoso.dev/urx";import{useRef as B,useCallback as k,useEffect as E,useLayoutEffect as L,memo as P,createElement as O}from"react";function M(){return(M=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}function D(e,t){if(null==e)return{};var n,o,r={},i=Object.keys(e);for(o=0;o<i.length;o++)t.indexOf(n=i[o])>=0||(r[n]=e[n]);return r}function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function V(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return A(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?A(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var o=0;return function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(n=e[Symbol.iterator]()).next.bind(n)}function W(e,t){return!(!e||e[0]!==t[0]||e[1]!==t[1])}function G(e,t){return!(!e||e.startIndex!==t.startIndex||e.endIndex!==t.endIndex)}var F,U,N=t(function(){var e=n(),t=n(),a=o(0),u=n(),s=o(0),c=n(),d=n(),f=o(0),m=o(0),h=n(),p=n(),g=o(!1);return r(i(e,l(function(e){return e[0]})),t),r(i(e,l(function(e){return e[1]})),d),r(t,s),{scrollContainerState:e,scrollTop:t,viewportHeight:c,headerHeight:f,footerHeight:m,scrollHeight:d,smoothScrollTargetReached:u,scrollTo:h,scrollBy:p,statefulScrollTop:s,deviation:a,scrollingInProgress:g}},[],{singleton:!0});!function(e){e[e.DEBUG=0]="DEBUG",e[e.INFO=1]="INFO",e[e.WARN=2]="WARN",e[e.ERROR=3]="ERROR"}(U||(U={}));var _=((F={})[U.DEBUG]="debug",F[U.INFO]="log",F[U.WARN]="warn",F[U.ERROR]="error",F),j=t(function(){var e=o(U.ERROR);return{log:o(function(t,n,o){var r;void 0===o&&(o=U.INFO),o>=(null!=(r=("undefined"==typeof globalThis?window:globalThis).VIRTUOSO_LOG_LEVEL)?r:a(e))&&console[_[o]]("%creact-virtuoso: %c%s %o","color: #0253b3; font-weight: bold","color: initial",t,n)}),logLevel:e}},[],{singleton:!0}),K=t(function(e){var t=e[0].log,n=o(!1),r=u(i(n,s(function(e){return e}),c()));return d(n,function(e){e&&a(t)("props updated",{},U.DEBUG)}),{propsReady:n,didMount:r}},f(j),{singleton:!0}),Y="up",Z={atBottom:!1,notAtBottomBecause:"NOT_SHOWING_LAST_ITEM",state:{offsetBottom:0,scrollTop:0,viewportHeight:0,scrollHeight:0}},q=t(function(e){var t=e[0],f=t.scrollContainerState,y=t.scrollTop,b=t.viewportHeight,H=t.headerHeight,R=t.footerHeight,z=t.scrollBy,B=o(!1),k=o(!0),E=n(),L=n(),P=o(4),O=u(i(m(i(h(y),p(1),g(!0)),i(h(y),p(1),g(!1),v(100))),c())),M=I(i(m(i(z,g(!0)),i(z,g(!1),v(200))),c()),!1);r(i(h(y),l(function(e){return 0===e}),c()),k),r(k,L);var D=u(i(C(f,h(b),h(H),h(R),h(P)),S(function(e,t){var n,o,r=t[0],i=r[0],l=r[1],a=t[1],u={viewportHeight:a,scrollTop:i,scrollHeight:l};return i+a-l>-t[4]?(i>e.state.scrollTop?(n="SCROLLED_DOWN",o=e.state.scrollTop-i):(n="SIZE_DECREASED",o=e.state.scrollTop-i||e.scrollTopDelta),{atBottom:!0,state:u,atBottomBecause:n,scrollTopDelta:o}):{atBottom:!1,notAtBottomBecause:u.scrollHeight>e.state.scrollHeight?"SIZE_INCREASED":a<e.state.viewportHeight?"VIEWPORT_HEIGHT_DECREASING":i<e.state.scrollTop?"SCROLLING_UPWARDS":"NOT_FULLY_SCROLLED_TO_LAST_ITEM_BOTTOM",state:u}},Z),c(function(e,t){return e&&e.atBottom===t.atBottom}))),A=I(i(f,S(function(e,t){var n=t[0],o=t[1];return e.scrollHeight!==o?e.scrollTop!==n?{scrollHeight:o,scrollTop:n,jump:e.scrollTop-n,changed:!0}:{scrollHeight:o,scrollTop:n,jump:0,changed:!0}:{scrollTop:n,scrollHeight:o,jump:0,changed:!1}},{scrollHeight:0,jump:0,scrollTop:0,changed:!1}),s(function(e){return e.changed}),l(function(e){return e.jump})),0);r(i(D,l(function(e){return e.atBottom})),B),d(B,function(e){setTimeout(function(){return x(E,e)})});var V=o("down");d(B,function(e){setTimeout(function(){x(E,e)})}),r(i(f,l(function(e){return e[0]}),c(),S(function(e,t){return a(M)?{direction:e.direction,prevScrollTop:t}:{direction:t<e.prevScrollTop?Y:"down",prevScrollTop:t}},{direction:"down",prevScrollTop:0}),l(function(e){return e.direction})),V),r(i(f,T(50),g("none")),V),r(B,E);var W=o(0);return r(i(O,s(function(e){return!e}),g(0)),W),r(i(y,T(100),w(O),s(function(e){return!!e[1]}),S(function(e,t){return[e[1],t[0]]},[0,0]),l(function(e){return e[1]-e[0]})),W),{isScrolling:O,isAtTop:k,isAtBottom:B,atBottomState:D,atTopStateChange:L,atBottomStateChange:E,scrollDirection:V,atBottomThreshold:P,scrollVelocity:W,lastJumpDueToItemResize:A}},f(N)),J=t(function(e){var t=e[0].scrollVelocity,a=o(!1),u=n(),f=o(!1);return r(i(t,w(f,a,u),s(function(e){return!!e[1]}),l(function(e){var t=e[0],n=e[1],o=e[2],r=e[3],i=n.enter;if(o){if((0,n.exit)(t,r))return!1}else if(i(t,r))return!0;return o}),c()),a),d(i(C(a,t,u),w(f)),function(e){var t=e[0],n=e[1];return t[0]&&n&&n.change&&n.change(t[1],t[2])}),{isSeeking:a,scrollSeekConfiguration:f,scrollVelocity:t,scrollSeekRangeChanged:u}},f(q),{singleton:!0}),$={lvl:0};function Q(e,t,n,o,r){return void 0===o&&(o=$),void 0===r&&(r=$),{k:e,v:t,lvl:n,l:o,r:r}}function X(e){return e===$}function ee(){return $}function te(e,t){if(X(e))return $;var n=e.k,o=e.l,r=e.r;if(t===n){if(X(o))return r;if(X(r))return o;var i=le(o);return ce(ue(e,{k:i[0],v:i[1],l:ae(o)}))}return ce(ue(e,t<n?{l:te(o,t)}:{r:te(r,t)}))}function ne(e,t,n){if(void 0===n&&(n="k"),X(e))return[-Infinity,void 0];if(e[n]===t)return[e.k,e.v];if(e[n]<t){var o=ne(e.r,t,n);return-Infinity===o[0]?[e.k,e.v]:o}return ne(e.l,t,n)}function oe(e,t,n){return X(e)?Q(t,n,1):t===e.k?ue(e,{k:t,v:n}):function(e){return me(he(e))}(ue(e,t<e.k?{l:oe(e.l,t,n)}:{r:oe(e.r,t,n)}))}function re(e,t,n){if(X(e))return[];var o=e.k,r=e.v,i=e.r,l=[];return o>t&&(l=l.concat(re(e.l,t,n))),o>=t&&o<=n&&l.push({k:o,v:r}),o<=n&&(l=l.concat(re(i,t,n))),l}function ie(e){return X(e)?[]:[].concat(ie(e.l),[{k:e.k,v:e.v}],ie(e.r))}function le(e){return X(e.r)?[e.k,e.v]:le(e.r)}function ae(e){return X(e.r)?e.l:ce(ue(e,{r:ae(e.r)}))}function ue(e,t){return Q(void 0!==t.k?t.k:e.k,void 0!==t.v?t.v:e.v,void 0!==t.lvl?t.lvl:e.lvl,void 0!==t.l?t.l:e.l,void 0!==t.r?t.r:e.r)}function se(e){return X(e)||e.lvl>e.r.lvl}function ce(e){var t=e.l,n=e.r,o=e.lvl;if(n.lvl>=o-1&&t.lvl>=o-1)return e;if(o>n.lvl+1){if(se(t))return he(ue(e,{lvl:o-1}));if(X(t)||X(t.r))throw new Error("Unexpected empty nodes");return ue(t.r,{l:ue(t,{r:t.r.l}),r:ue(e,{l:t.r.r,lvl:o-1}),lvl:o})}if(se(e))return me(ue(e,{lvl:o-1}));if(X(n)||X(n.l))throw new Error("Unexpected empty nodes");var r=n.l,i=se(r)?n.lvl-1:n.lvl;return ue(r,{l:ue(e,{r:r.l,lvl:o-1}),r:me(ue(n,{l:r.r,lvl:i})),lvl:r.lvl+1})}function de(e,t,n){return X(e)?[]:fe(re(e,ne(e,t)[0],n),function(e){return{index:e.k,value:e.v}})}function fe(e,t){var n=e.length;if(0===n)return[];for(var o=t(e[0]),r=o.index,i=o.value,l=[],a=1;a<n;a++){var u=t(e[a]),s=u.index,c=u.value;l.push({start:r,end:s-1,value:i}),r=s,i=c}return l.push({start:r,end:Infinity,value:i}),l}function me(e){var t=e.r,n=e.lvl;return X(t)||X(t.r)||t.lvl!==n||t.r.lvl!==n?e:ue(t,{l:ue(e,{r:t.l}),lvl:n+1})}function he(e){var t=e.l;return X(t)||t.lvl!==e.lvl?e:ue(t,{r:ue(e,{l:t.r})})}function pe(e,t,n,o){void 0===o&&(o=0);for(var r=e.length-1;o<=r;){var i=Math.floor((o+r)/2),l=n(e[i],t);if(0===l)return i;if(-1===l){if(r-o<2)return i-1;r=i-1}else{if(r===o)return i;o=i+1}}throw new Error("Failed binary finding record in array - "+e.join(",")+", searched for "+t)}function ge(e,t,n){return e[pe(e,t,n)]}function ve(e,t){return Math.round(e.getBoundingClientRect()[t])}function Ie(e){var t=e.size,n=e.startIndex,o=e.endIndex;return function(e){return e.start===n&&(e.end===o||Infinity===e.end)&&e.value===t}}function Ce(e,t){var n=e.index;return t===n?0:t<n?-1:1}function Se(e,t){var n=e.offset;return t===n?0:t<n?-1:1}function xe(e){return{index:e.index,value:e}}function Te(e,t,n){var o=e,r=0,i=0,l=0,a=0;if(0!==t){l=o[a=pe(o,t-1,Ce)].offset;var u=ne(n,t-1);r=u[0],i=u[1],o.length&&o[a].size===ne(n,t)[1]&&(a-=1),o=o.slice(0,a+1)}else o=[];for(var s,c=V(de(n,t,Infinity));!(s=c()).done;){var d=s.value,f=d.start,m=d.value,h=(f-r)*i+l;o.push({offset:h,size:m,index:f}),r=f,l=h,i=m}return{offsetTree:o,lastIndex:r,lastOffset:l,lastSize:i}}function we(e,t){var n=t[0],o=t[1];n.length>0&&(0,t[2])("received item sizes",n,U.DEBUG);var r=e.sizeTree,i=r,l=0;if(o.length>0&&X(r)&&2===n.length){var a=n[0].size,u=n[1].size;i=o.reduce(function(e,t){return oe(oe(e,t,a),t+1,u)},i)}else{var s=function(e,t){for(var n,o=X(e)?0:Infinity,r=V(t);!(n=r()).done;){var i=n.value,l=i.size,a=i.startIndex,u=i.endIndex;if(o=Math.min(o,a),X(e))e=oe(e,0,l);else{var s=de(e,a-1,u+1);if(!s.some(Ie(i))){for(var c,d=!1,f=!1,m=V(s);!(c=m()).done;){var h=c.value,p=h.start,g=h.end,v=h.value;d?(u>=p||l===v)&&(e=te(e,p)):(f=v!==l,d=!0),g>u&&u>=p&&v!==l&&(e=oe(e,u+1,v))}f&&(e=oe(e,a,l))}}}return[e,o]}(i,n);i=s[0],l=s[1]}if(i===r)return e;var c=Te(e.offsetTree,l,i),d=c.offsetTree;return{sizeTree:i,offsetTree:d,lastIndex:c.lastIndex,lastOffset:c.lastOffset,lastSize:c.lastSize,groupOffsetTree:o.reduce(function(e,t){return oe(e,t,ye(t,d))},ee()),groupIndices:o}}function ye(e,t){if(0===t.length)return 0;var n=ge(t,e,Ce);return n.size*(e-n.index)+n.offset}function be(e,t){if(!He(t))return e;for(var n=0;t.groupIndices[n]<=e+n;)n++;return e+n}function He(e){return!X(e.groupOffsetTree)}var Re={offsetHeight:"height",offsetWidth:"width"},ze=t(function(e){var t=e[0].log,f=n(),m=n(),h=I(m,0),p=n(),g=n(),v=o(0),C=o([]),T=o(void 0),y=o(void 0),b=o(function(e,t){return ve(e,Re[t])}),H=o(void 0),R={offsetTree:[],sizeTree:ee(),groupOffsetTree:ee(),lastIndex:0,lastOffset:0,lastSize:0,groupIndices:[]},z=I(i(f,w(C,t),S(we,R),c()),R);r(i(C,s(function(e){return e.length>0}),w(z),l(function(e){var t=e[0],n=e[1],o=t.reduce(function(e,t,o){return oe(e,t,ye(t,n.offsetTree)||o)},ee());return M({},n,{groupIndices:t,groupOffsetTree:o})})),z),r(i(m,w(z),s(function(e){return e[0]<e[1].lastIndex}),l(function(e){var t=e[1];return[{startIndex:e[0],endIndex:t.lastIndex,size:t.lastSize}]})),f),r(T,y);var B=I(i(T,l(function(e){return void 0===e})),!0);r(i(y,s(function(e){return void 0!==e&&X(a(z).sizeTree)}),l(function(e){return[{startIndex:0,endIndex:0,size:e}]})),f);var k=u(i(f,w(z),S(function(e,t){var n=t[1];return{changed:n!==e.sizes,sizes:n}},{changed:!1,sizes:R}),l(function(e){return e.changed})));d(i(v,S(function(e,t){return{diff:e.prev-t,prev:t}},{diff:0,prev:0}),l(function(e){return e.diff})),function(e){e>0?x(p,e):e<0&&x(g,e)}),d(i(v,w(t)),function(e){e[0]<0&&(0,e[1])("`firstItemIndex` prop should not be set to less than zero. If you don't know the total count, just use a very high value",{firstItemIndex:v},U.ERROR)});var E=u(p);r(i(p,w(z),l(function(e){var t=e[0],n=e[1];if(n.groupIndices.length>0)throw new Error("Virtuoso: prepending items does not work with groups");return ie(n.sizeTree).reduce(function(e,n){var o=n.k,r=n.v;return{ranges:[].concat(e.ranges,[{startIndex:e.prevIndex,endIndex:o+t-1,size:e.prevSize}]),prevIndex:o+t,prevSize:r}},{ranges:[],prevIndex:0,prevSize:n.lastSize}).ranges})),f);var L=u(i(g,w(z),l(function(e){return ye(-e[0],e[1].offsetTree)})));return r(i(g,w(z),l(function(e){var t=e[0],n=e[1];if(n.groupIndices.length>0)throw new Error("Virtuoso: shifting items does not work with groups");var o=ie(n.sizeTree).reduce(function(e,n){var o=n.v;return oe(e,Math.max(0,n.k+t),o)},ee());return M({},n,{sizeTree:o},Te(n.offsetTree,0,o))})),z),{data:H,totalCount:m,sizeRanges:f,groupIndices:C,defaultItemSize:y,fixedItemSize:T,unshiftWith:p,shiftWith:g,shiftWithOffset:L,beforeUnshiftWith:E,firstItemIndex:v,sizes:z,listRefresh:k,statefulTotalCount:h,trackItemSizes:B,itemSize:b}},f(j),{singleton:!0}),Be="undefined"!=typeof document&&"scrollBehavior"in document.documentElement.style;function ke(e){var t="number"==typeof e?{index:e}:e;return t.align||(t.align="start"),t.behavior&&Be||(t.behavior="auto"),t.offset||(t.offset=0),t}var Ee=t(function(e){var t=e[0],a=t.sizes,u=t.totalCount,s=t.listRefresh,c=e[1],f=c.scrollingInProgress,m=c.viewportHeight,h=c.scrollTo,p=c.smoothScrollTargetReached,g=c.headerHeight,v=c.footerHeight,I=e[2].log,C=n(),S=o(0),T=null,b=null,H=null;function R(){T&&(T(),T=null),H&&(H(),H=null),b&&(clearTimeout(b),b=null),x(f,!1)}return r(i(C,w(a,m,u,S,g,v,I),l(function(e){var t=e[0],n=e[1],o=e[2],r=e[3],l=e[4],a=e[5],u=e[6],c=e[7],m=ke(t),h=m.align,g=m.behavior,v=m.offset,I=r-1,S=m.index;"LAST"===S&&(S=I),S=be(S,n);var w=ye(S=Math.max(0,S,Math.min(I,S)),n.offsetTree)+a;"end"===h?(w=w-o+ne(n.sizeTree,S)[1],S===I&&(w+=u)):"center"===h?w=w-o/2+ne(n.sizeTree,S)[1]/2:w-=l,v&&(w+=v);var z=function(e){R(),e?(c("retrying to scroll to",{location:t},U.DEBUG),x(C,t)):c("list did not change, scroll successful",{},U.DEBUG)};if(R(),"smooth"===g){var B=!1;H=d(s,function(e){B=B||e}),T=y(p,function(){z(B)})}else T=y(i(s,function(e){var t=setTimeout(function(){e(!1)},50);return function(n){n&&(e(!0),clearTimeout(t))}}),z);return b=setTimeout(function(){R()},1200),x(f,!0),c("scrolling from index to",{index:S,top:w,behavior:g},U.DEBUG),{top:w,behavior:g}})),h),{scrollToIndex:C,topListHeight:S}},f(ze,N,j),{singleton:!0});function Le(e,t,n){return"number"==typeof e?n===Y&&"top"===t||"down"===n&&"bottom"===t?e:0:n===Y?"top"===t?e.main:e.reverse:"bottom"===t?e.main:e.reverse}function Pe(e,t){return"number"==typeof e?e:e[t]||0}var Oe=t(function(e){var t=e[0],r=t.scrollTop,a=t.viewportHeight,u=t.deviation,d=t.headerHeight,f=e[1].log,m=n(),p=o(0),g=o(0),v=o(0),S=o(0);return{listBoundary:m,overscan:S,topListHeight:p,fixedHeaderHeight:g,increaseViewportBy:v,visibleRange:I(i(C(h(r),h(a),h(d),h(m,W),h(S),h(p),h(g),h(u),h(v),f),l(function(e){var t=e[0],n=e[1],o=e[2],r=e[3],i=r[0],l=r[1],a=e[4],u=e[5],s=e[6],c=e[7],d=e[8];(0,e[9])("[size range: scrollTop, deviation]",t+", "+c,U.DEBUG);var f=t-c,m=u+s,h=Math.max(o-f,0),p="none",g=Pe(d,"top"),v=Pe(d,"bottom");return i-=c,l+=o,(i+=o)>t+m-g&&(p=Y),(l-=c)<t-h+n+v&&(p="down"),"none"!==p?[Math.max(f-o-Le(a,"top",p)-g,0),f-h-s+n+Le(a,"bottom",p)+v]:null}),s(function(e){return null!=e}),c(W)),[0,0])}},f(N,j),{singleton:!0}),Me=t(function(e){var t=e[0],a=t.scrollTo,u=t.scrollContainerState,s=n(),c=n(),d=n(),f=o(!1),m=o(void 0);return r(i(C(s,c),l(function(e){var t=e[0],n=t[1];return[Math.max(0,t[0]-e[1].offsetTop),n]})),u),r(i(a,w(c),l(function(e){var t=e[0];return M({},t,{top:t.top+e[1].offsetTop})})),d),{useWindowScroll:f,customScrollParent:m,windowScrollContainerState:s,windowViewportRect:c,windowScrollTo:d}},f(N)),De={items:[],offsetBottom:0,offsetTop:0,top:0,bottom:0,itemHeight:0,itemWidth:0},Ae={items:[{index:0}],offsetBottom:0,offsetTop:0,top:0,bottom:0,itemHeight:0,itemWidth:0},Ve=Math.round,We=Math.ceil,Ge=Math.floor,Fe=Math.min,Ue=Math.max;function Ne(e,t){return Array.from({length:t-e+1}).map(function(t,n){return{index:n+e}})}var _e=t(function(e){var t=e[0],a=t.overscan,d=t.visibleRange,f=t.listBoundary,m=e[1],p=m.scrollTop,v=m.viewportHeight,S=m.scrollBy,x=m.scrollTo,T=m.smoothScrollTargetReached,y=m.scrollContainerState,b=e[2],H=e[3],R=e[4],z=R.propsReady,B=R.didMount,k=e[5],E=k.windowViewportRect,L=k.windowScrollTo,P=k.useWindowScroll,O=k.customScrollParent,D=k.windowScrollContainerState,A=o(0),V=o(0),F=o(De),U=o({height:0,width:0}),N=o({height:0,width:0}),_=n(),j=n(),K=o(0);r(i(B,w(V),s(function(e){return 0!==e[1]}),l(function(e){return{items:Ne(0,e[1]-1),top:0,bottom:0,offsetBottom:0,offsetTop:0,itemHeight:0,itemWidth:0}})),F),r(i(C(h(A),d,h(N,function(e,t){return e&&e.width===t.width&&e.height===t.height})),w(U),l(function(e){var t=e[0],n=t[0],o=t[1],r=o[0],i=o[1],l=t[2],a=e[1],u=l.height,s=l.width,c=a.width;if(0===n||0===c)return De;if(0===s)return Ae;var d=Ye(c,s),f=d*Ge(r/u),m=d*We(i/u)-1;m=Fe(n-1,m);var h=Ne(f=Fe(m,Ue(0,f)),m),p=je(a,l,h),g=p.top,v=p.bottom;return{items:h,offsetTop:g,offsetBottom:We(n/d)*u-v,top:g,bottom:v,itemHeight:u,itemWidth:s}})),F),r(i(U,l(function(e){return e.height})),v),r(i(C(U,N,F),l(function(e){var t=je(e[0],e[1],e[2].items);return[t.top,t.bottom]}),c(W)),f);var Y=u(i(h(F),s(function(e){return e.items.length>0}),w(A),s(function(e){var t=e[0].items;return t[t.length-1].index===e[1]-1}),l(function(e){return e[1]-1}),c())),Z=u(i(h(F),s(function(e){var t=e.items;return t.length>0&&0===t[0].index}),g(0),c())),q=u(i(h(F),s(function(e){return e.items.length>0}),l(function(e){var t=e.items;return{startIndex:t[0].index,endIndex:t[t.length-1].index}}),c(G)));r(q,H.scrollSeekRangeChanged),r(i(_,w(U,N,A),l(function(e){var t=e[1],n=e[2],o=e[3],r=ke(e[0]),i=r.align,l=r.behavior,a=r.offset,u=r.index;"LAST"===u&&(u=o-1);var s=Ke(t,n,u=Ue(0,u,Fe(o-1,u)));return"end"===i?s=Ve(s-t.height+n.height):"center"===i&&(s=Ve(s-t.height/2+n.height/2)),a&&(s+=a),{top:s,behavior:l}})),x);var J=I(i(F,l(function(e){return e.offsetBottom+e.bottom})),0);return r(i(E,l(function(e){return{width:e.visibleWidth,height:e.visibleHeight}})),U),M({totalCount:A,viewportDimensions:U,itemDimensions:N,scrollTop:p,scrollHeight:j,overscan:a,scrollBy:S,scrollTo:x,scrollToIndex:_,smoothScrollTargetReached:T,windowViewportRect:E,windowScrollTo:L,useWindowScroll:P,customScrollParent:O,windowScrollContainerState:D,deviation:K,scrollContainerState:y,initialItemCount:V},H,{gridState:F,totalListHeight:J},b,{startReached:Z,endReached:Y,rangeChanged:q,propsReady:z})},f(Oe,N,q,J,K,Me));function je(e,t,n){var o=t.height;return void 0===o||0===n.length?{top:0,bottom:0}:{top:Ke(e,t,n[0].index),bottom:Ke(e,t,n[n.length-1].index)+o}}function Ke(e,t,n){var o=Ye(e.width,t.width);return Ge(n/o)*t.height}function Ye(e,t){return Ue(1,Ge(e/t))}function Ze(e,t){void 0===t&&(t=!0);var n=B(null),o=function(e){};if("undefined"!=typeof ResizeObserver){var r=new ResizeObserver(function(t){var n=t[0].target;null!==n.offsetParent&&e(n)});o=function(e){e&&t?(r.observe(e),n.current=e):(n.current&&r.unobserve(n.current),n.current=null)}}return{ref:n,callbackRef:o}}function qe(e,t){return void 0===t&&(t=!0),Ze(e,t).callbackRef}function Je(e,t){var n=B(null),o=k(function(o){if(null!==o){var r,i,l=o.getBoundingClientRect(),a=l.width;if(t){var u=t.getBoundingClientRect(),s=l.top-u.top;r=u.height-Math.max(0,s),i=s+t.scrollTop}else r=window.innerHeight-Math.max(0,l.top),i=l.top+window.pageYOffset;n.current={offsetTop:i,visibleHeight:r,visibleWidth:a},e(n.current)}},[e,t]),r=Ze(o),i=r.callbackRef,l=r.ref,a=k(function(){o(l.current)},[o,l]);return E(function(){if(t){t.addEventListener("scroll",a);var e=new ResizeObserver(a);return e.observe(t),function(){t.removeEventListener("scroll",a),e.unobserve(t)}}return window.addEventListener("scroll",a),window.addEventListener("resize",a),function(){window.removeEventListener("scroll",a),window.removeEventListener("resize",a)}},[a,t]),i}var $e="undefined"!=typeof document?L:E;function Qe(e,t,n,o,r,i){return qe(function(n){for(var l=function(e,t,n,o){var r=e.length;if(0===r)return null;for(var i=[],l=0;l<r;l++){var a=e.item(l);if(a&&void 0!==a.dataset.index){var u=parseInt(a.dataset.index),s=parseFloat(a.dataset.knownSize),c=t(a,"offsetHeight");if(0===c&&o("Zero-sized element, this should not happen",{child:a},U.ERROR),c!==s){var d=i[i.length-1];0===i.length||d.size!==c||d.endIndex!==u-1?i.push({startIndex:u,endIndex:u,size:c}):i[i.length-1].endIndex++}}}return i}(n.children,t,0,r),a=n.parentElement;!a.dataset.virtuosoScroller;)a=a.parentElement;var u=i?i.scrollTop:"window"===a.firstElementChild.dataset.viewportType?window.pageYOffset||document.documentElement.scrollTop:a.scrollTop;o(i?[Math.max(u,0),i.scrollHeight]:[Math.max(u,0),a.scrollHeight]),null!==l&&e(l)},n)}function Xe(e,t,n,o,r){void 0===o&&(o=b);var i=B(null),l=B(null),a=B(null),u=k(function(n){var o=n.target,r=o===window||o===document?window.pageYOffset||document.documentElement.scrollTop:o.scrollTop,i=o===window?document.documentElement.scrollHeight:o.scrollHeight;e([Math.max(r,0),i]),null!==l.current&&(r===l.current||r<=0||r===o.scrollHeight-ve(o,"height"))&&(l.current=null,t(!0),a.current&&(clearTimeout(a.current),a.current=null))},[e,t]);return E(function(){var e=r||i.current;return o(r||i.current),u({target:e}),e.addEventListener("scroll",u,{passive:!0}),function(){o(null),e.removeEventListener("scroll",u)}},[i,u,n,o,r]),{scrollerRef:i,scrollByCallback:function(t){null===l.current&&(console.log("%c before scroll "+i.current.scrollTop+" scrolling by "+t.top,"color: red"),i.current.scrollBy(t),console.log("after scroll",i.current.scrollTop),e([Math.max(i.current.scrollTop,0),i.current.scrollHeight]))},scrollToCallback:function(n){var o=i.current;if(o&&(!("offsetHeight"in o)||0!==o.offsetHeight)){var r,u,s,c="smooth"===n.behavior;if(o===window?(u=Math.max(ve(document.documentElement,"height"),document.documentElement.scrollHeight),r=window.innerHeight,s=document.documentElement.scrollTop):(u=o.scrollHeight,r=ve(o,"height"),s=o.scrollTop),n.top=Math.ceil(Math.max(Math.min(u-r,n.top),0)),Math.abs(r-u)<1.01||n.top===s)return e([s,u]),void(c&&t(!0));c?(l.current=n.top,a.current&&clearTimeout(a.current),a.current=setTimeout(function(){a.current=null,l.current=null,t(!0)},1e3)):l.current=null,o.scrollTo(n)}}}}var et=t(function(e){var t=e[0],n=t.sizes,l=t.listRefresh,a=t.defaultItemSize,u=e[1].scrollTop,c=e[2].scrollToIndex,f=e[3].didMount,m=o(!0),h=o(0);return r(i(f,w(h),s(function(e){return!!e[1]}),g(!1)),m),d(i(C(l,f),w(m,n,a),s(function(e){var t=e[1],n=e[3];return e[0][1]&&(!X(e[2].sizeTree)||void 0!==n)&&!t}),w(h)),function(e){var t=e[1];setTimeout(function(){y(u,function(){x(m,!0)}),x(c,t)})}),{scrolledToInitialItem:m,initialTopMostItemIndex:h}},f(ze,N,Ee,K),{singleton:!0});function tt(e){return!!e&&("smooth"===e?"smooth":"auto")}var nt=t(function(e){var t=e[0],n=t.totalCount,r=t.listRefresh,u=e[1],c=u.isAtBottom,f=u.atBottomState,m=e[2].scrollToIndex,g=e[3].scrolledToInitialItem,v=e[4],I=v.propsReady,T=v.didMount,b=e[5].log,H=e[6].scrollingInProgress,R=o(!1),z=null;function B(e){x(m,{index:"LAST",align:"end",behavior:e})}return d(i(C(i(h(n),p(1)),T),w(h(R),c,g,H),l(function(e){var t=e[0],n=t[0],o=t[1]&&e[3],r="auto";return o&&(r=function(e,t){return"function"==typeof e?tt(e(t)):t&&tt(e)}(e[1],e[2]||e[4]),o=o&&!!r),{totalCount:n,shouldFollow:o,followOutputBehavior:r}}),s(function(e){return e.shouldFollow})),function(e){var t=e.totalCount,n=e.followOutputBehavior;z&&(z(),z=null),z=y(r,function(){a(b)("following output to ",{totalCount:t},U.DEBUG),B(n),z=null})}),d(i(C(h(R),n,I),s(function(e){return e[0]&&e[2]}),S(function(e,t){var n=t[1];return{refreshed:e.value===n,value:n}},{refreshed:!1,value:0}),s(function(e){return e.refreshed}),w(R,n)),function(e){var t=e[1],n=y(f,function(e){!t||e.atBottom||"SIZE_INCREASED"!==e.notAtBottomBecause||z||(a(b)("scrolling to bottom due to increased size",{},U.DEBUG),B("auto"))});setTimeout(n,100)}),d(C(h(R),f),function(e){var t=e[1];e[0]&&!t.atBottom&&"VIEWPORT_HEIGHT_DECREASING"===t.notAtBottomBecause&&B("auto")}),{followOutput:R}},f(ze,q,Ee,et,K,j,N));function ot(e){return e.reduce(function(e,t){return e.groupIndices.push(e.totalCount),e.totalCount+=t+1,e},{totalCount:0,groupIndices:[]})}var rt=t(function(e){var t=e[0],o=t.totalCount,a=t.groupIndices,d=t.sizes,f=e[1],m=f.scrollTop,h=f.headerHeight,p=n(),g=n(),v=u(i(p,l(ot)));return r(i(v,l(H("totalCount"))),o),r(i(v,l(H("groupIndices"))),a),r(i(C(m,d,h),s(function(e){return He(e[1])}),l(function(e){return ne(e[1].groupOffsetTree,Math.max(e[0]-e[2],0),"v")[0]}),c(),l(function(e){return[e]})),g),{groupCounts:p,topItemsIndexes:g}},f(ze,N)),it={items:[],topItems:[],offsetTop:0,offsetBottom:0,top:0,bottom:0,topListHeight:0,totalCount:0};function lt(e,t,n){if(0===e.length)return[];if(!He(t))return e.map(function(e){return M({},e,{index:e.index+n,originalIndex:e.index})});for(var o,r=[],i=de(t.groupOffsetTree,e[0].index,e[e.length-1].index),l=void 0,a=0,u=V(e);!(o=u()).done;){var s=o.value;(!l||l.end<s.index)&&(l=i.shift(),a=t.groupIndices.indexOf(l.start)),r.push(M({},s.index===l.start?{type:"group",index:a}:{index:s.index-(a+1)+n,groupIndex:a},{size:s.size,offset:s.offset,originalIndex:s.index,data:s.data}))}return r}function at(e,t,n,o,r){var i=0,l=0;if(e.length>0){i=e[0].offset;var a=e[e.length-1];l=a.offset+a.size}var u=i,s=o.lastOffset+(n-o.lastIndex)*o.lastSize-l;return{items:lt(e,o,r),topItems:lt(t,o,r),topListHeight:t.reduce(function(e,t){return t.size+e},0),offsetTop:i,offsetBottom:s,top:u,bottom:l,totalCount:n}}var ut,st,ct,dt=t(function(e){var t=e[0],a=t.sizes,d=t.totalCount,f=t.data,m=t.firstItemIndex,p=e[1],g=e[2],v=g.visibleRange,S=g.listBoundary,x=g.topListHeight,y=e[3],b=y.scrolledToInitialItem,z=y.initialTopMostItemIndex,B=e[4].topListHeight,k=e[5],E=e[6].didMount,L=e[7].log,P=o([]),O=n();r(p.topItemsIndexes,P);var D=I(i(C(E,h(v),h(d),h(a),h(z),b,h(P),h(m),f,L),s(function(e){return e[0]}),l(function(e){var t=e[1],n=t[0],o=t[1],r=e[2],i=e[3],l=e[4],a=e[5],u=e[6],s=e[7],c=e[8];(0,e[9])("offsets [start, end]",n+", "+o,U.DEBUG);var d=i,f=d.sizeTree,m=d.offsetTree;if(0===r||0===n&&0===o)return it;if(X(f))return at(function(e,t,n){if(He(t)){var o=be(e,t);return[{index:ne(t.groupOffsetTree,o)[0],size:0,offset:0},{index:o,size:0,offset:0,data:n&&n[0]}]}return[{index:e,size:0,offset:0,data:n&&n[0]}]}(function(e,t){return"number"==typeof e?e:"LAST"===e.index?t-1:e.index}(l,r),d,c),[],r,d,s);var h=[];if(u.length>0)for(var p,g=u[0],v=u[u.length-1],I=0,C=V(de(f,g,v));!(p=C()).done;)for(var S=p.value,x=S.value,T=Math.max(S.start,g),w=Math.min(S.end,v),y=T;y<=w;y++)h.push({index:y,size:x,offset:I,data:c&&c[y]}),I+=x;if(!a)return at([],h,r,d,s);var b=u.length>0?u[u.length-1]+1:0,H=function(e,t,n,o){return void 0===o&&(o=0),o>0&&(t=Math.max(t,ge(e,o,Ce).offset)),fe((i=n,a=pe(r=e,t,l=Se),u=pe(r,i,l,a),r.slice(a,u+1)),xe);var r,i,l,a,u}(m,n,o,b);if(0===H.length)return null;var z=r-1;return at(R([],function(e){for(var t,r=V(H);!(t=r()).done;){var i=t.value,l=i.value,a=l.offset,u=i.start,s=l.size;l.offset<n&&(a+=((u+=Math.floor((n-l.offset)/s))-i.start)*s),u<b&&(a+=(b-u)*s,u=b);for(var d=Math.min(i.end,z),f=u;f<=d&&!(a>=o);f++)e.push({index:f,size:s,offset:a,data:c&&c[f]}),a+=s}}),h,r,d,s)}),s(function(e){return null!==e}),c()),it);return r(i(f,s(function(e){return void 0!==e}),l(function(e){return e.length})),d),r(i(D,l(H("topListHeight"))),B),r(B,x),r(i(D,l(function(e){return[e.top,e.bottom]})),S),r(i(D,l(function(e){return e.items})),O),M({listState:D,topItemsIndexes:P,endReached:u(i(D,s(function(e){return e.items.length>0}),w(d,f),s(function(e){var t=e[0].items;return t[t.length-1].originalIndex===e[1]-1}),l(function(e){return[e[1]-1,e[2]]}),c(W),l(function(e){return e[0]}))),startReached:u(i(D,T(200),s(function(e){var t=e.items;return t.length>0&&t[0].originalIndex===e.topItems.length}),l(function(e){return e.items[0].index}),c())),rangeChanged:u(i(D,s(function(e){return e.items.length>0}),l(function(e){var t=e.items;return{startIndex:t[0].index,endIndex:t[t.length-1].index}}),c(G))),itemsRendered:O},k)},f(ze,rt,Oe,et,Ee,q,K,j),{singleton:!0}),ft=t(function(e){var t=e[0],n=t.sizes,a=t.firstItemIndex,u=t.data,c=e[1].listState,d=e[2].didMount,f=o(0);return r(i(d,w(f),s(function(e){return 0!==e[1]}),w(n,a,u),l(function(e){var t=e[0][1],n=e[1],o=e[2],r=e[3],i=void 0===r?[]:r,l=0;if(n.groupIndices.length>0)for(var a,u=V(n.groupIndices);!((a=u()).done||a.value-l>=t);)l++;var s=t+l;return at(Array.from({length:s}).map(function(e,t){return{index:t,size:0,offset:0,data:i[t]}}),[],s,n,o)})),c),{initialItemCount:f}},f(ze,dt,K),{singleton:!0}),mt=t(function(e){var t=e[0].topItemsIndexes,n=o(0);return r(i(n,s(function(e){return e>0}),l(function(e){return Array.from({length:e}).map(function(e,t){return t})})),t),{topItemCount:n}},f(dt)),ht=t(function(e){var t=e[0],o=t.footerHeight,a=t.headerHeight,u=e[1].listState,s=n(),c=I(i(C(o,a,u),l(function(e){var t=e[2];return e[0]+e[1]+t.offsetBottom+t.bottom})),0);return r(h(c),s),{totalListHeight:c,totalListHeightChanged:s}},f(N,dt),{singleton:!0}),pt=t(function(e){var t=e[0],n=t.scrollBy,o=t.scrollTop,a=t.deviation,c=t.scrollingInProgress,f=e[1],m=f.isScrolling,h=f.isAtBottom,p=f.atBottomState,g=f.scrollDirection,v=e[3],y=v.beforeUnshiftWith,b=v.shiftWithOffset,H=v.sizes,R=e[4].log,z=u(i(e[2].listState,w(f.lastJumpDueToItemResize,a,o,R),S(function(e,t){var n=e[1],o=t[0],r=o.items,i=o.totalCount,l=t[1],a=t[2],u=t[3],s=t[4],c=0;if(e[2]===i){if(n.length>0&&r.length>0){var d=1===r.length;if(0!==r[0].originalIndex||0!==n[0].originalIndex)for(var f=function(e){var t=r[e],o=n.find(function(e){return e.originalIndex===t.originalIndex});return o?t.offset!==o.offset||d?(c=t.offset-o.offset+t.size-o.size,"break"):void 0:"continue"},m=r.length-1;m>=0;m--){var h=f(m);if("continue"!==h&&"break"===h)break}}0!==c&&(c+=l)}return s("[last jump]",l,U.DEBUG),s("[target scrollTop with deviation]",u+", "+a+", "+(u-a),U.DEBUG),u<a&&(s("corrected",a-u,U.DEBUG),c=a-u),[c,r,i]},[0,[],0]),s(function(e){return 0!==e[0]}),w(o,g,c,R,h,p),s(function(e){return!e[3]&&0!==e[1]&&e[2]===Y}),l(function(e){var t=e[0][0];return(0,e[4])("Upward scrolling compensation",{amount:t},U.DEBUG),t})));return r(i(z,w(a),l(function(e){return e[1]-e[0]})),a),d(i(C(I(m,!1),a,R),s(function(e){var t=e[0],n=e[1];return(0,e[2])("filter predicate","isScrolling: "+t+", deviation: "+n,U.DEBUG),!t&&0!==n}),T(1)),function(e){var t=e[1],o=e[2];e[0]||(t>0?(x(n,{top:-t,behavior:"auto"}),x(a,0)):(x(a,0),x(n,{top:-t,behavior:"auto"})),o("published offset",t,U.DEBUG))}),r(i(b,l(function(e){return{top:-e}})),n),r(i(y,w(H),l(function(e){return e[0]*e[1].lastSize})),z),{deviation:a}},f(N,q,dt,ze,j)),gt=t(function(e){var t=e[0].totalListHeight,n=e[1].didMount,r=e[2].scrollTo,a=o(0);return d(i(n,w(a),s(function(e){return 0!==e[1]}),l(function(e){return{top:e[1]}})),function(e){y(i(t,s(function(e){return 0!==e})),function(){setTimeout(function(){x(r,e)})})}),{initialScrollTop:a}},f(ht,K,N),{singleton:!0}),vt=t(function(e){var t=e[0].viewportHeight,n=e[1].totalListHeight,r=o(!1);return{alignToBottom:r,paddingTopAddition:I(i(C(r,t,n),s(function(e){return e[0]}),l(function(e){return Math.max(0,e[1]-e[2])}),c()),0)}},f(N,ht),{singleton:!0}),It=t(function(e){var t=e[0],o=t.sizes,a=t.totalCount,u=e[1],c=u.scrollTop,d=u.viewportHeight,f=u.headerHeight,m=u.scrollingInProgress,h=e[2].scrollToIndex,g=n();return r(i(g,w(o,d,a,f,c),l(function(e){var t=e[0],n=t.index,o=t.behavior,r=void 0===o?"auto":o,l=t.done,a=e[1],u=e[2],c=e[4],d=e[5],f=e[3]-1,h=null;n=be(n,a);var g=ye(n=Math.max(0,n,Math.min(f,n)),a.offsetTree)+c;return g<d?h={index:n,behavior:r,align:"start"}:g+ne(a.sizeTree,n)[1]>d+u&&(h={index:n,behavior:r,align:"end"}),h?l&&y(i(m,p(1),s(function(e){return!1===e})),l):l&&l(),h}),s(function(e){return null!==e})),h),{scrollIntoView:g}},f(ze,N,Ee,dt,j),{singleton:!0}),Ct=t(function(e){return M({},e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8])},f(Oe,ft,K,J,ht,gt,vt,Me,It)),St=t(function(e){var t=e[0],n=t.totalCount,o=t.sizeRanges,a=t.fixedItemSize,u=t.defaultItemSize,s=t.trackItemSizes,c=t.itemSize,d=t.data,f=t.firstItemIndex,m=t.groupIndices,h=t.statefulTotalCount,p=e[1],g=p.initialTopMostItemIndex,v=p.scrolledToInitialItem,I=e[2],C=e[3],S=e[4],x=S.listState,T=S.topItemsIndexes,w=D(S,["listState","topItemsIndexes"]),y=e[5].scrollToIndex,b=e[7].topItemCount,R=e[8].groupCounts,z=e[9],B=e[10];return r(w.rangeChanged,z.scrollSeekRangeChanged),r(i(z.windowViewportRect,l(H("visibleHeight"))),I.viewportHeight),M({totalCount:n,data:d,firstItemIndex:f,sizeRanges:o,initialTopMostItemIndex:g,scrolledToInitialItem:v,topItemsIndexes:T,topItemCount:b,groupCounts:R,fixedItemHeight:a,defaultItemHeight:u},C,{statefulTotalCount:h,listState:x,scrollToIndex:y,trackItemSizes:s,itemSize:c,groupIndices:m},w,z,I,B)},f(ze,et,N,nt,dt,Ee,pt,mt,rt,Ct,j)),xt=(ut=function(){if("undefined"==typeof document)return"sticky";var e=document.createElement("div");return e.style.position="-webkit-sticky","-webkit-sticky"===e.style.position?"-webkit-sticky":"sticky"},ct=!1,function(){return ct||(ct=!0,st=ut()),st});function Tt(e){return e}var wt=t(function(){var e=o(function(e){return"Item "+e}),t=o(null),n=o(function(e){return"Group "+e}),r=o({}),a=o(Tt),u=o("div"),s=o(b),d=function(e,t){return void 0===t&&(t=null),I(i(r,l(function(t){return t[e]}),c()),t)};return{context:t,itemContent:e,groupContent:n,components:r,computeItemKey:a,headerFooterTag:u,scrollerRef:s,FooterComponent:d("Footer"),HeaderComponent:d("Header"),TopItemListComponent:d("TopItemList"),ListComponent:d("List","div"),ItemComponent:d("Item","div"),GroupComponent:d("Group","div"),ScrollerComponent:d("Scroller","div"),EmptyPlaceholder:d("EmptyPlaceholder"),ScrollSeekPlaceholder:d("ScrollSeekPlaceholder")}});function yt(e,t){var o=n();return d(o,function(){return console.warn("react-virtuoso: You are using a deprecated property. "+t,"color: red;","color: inherit;","color: blue;")}),r(o,e),o}var bt=t(function(e){var t=e[0],o=e[1],u={item:yt(o.itemContent,"Rename the %citem%c prop to %citemContent."),group:yt(o.groupContent,"Rename the %cgroup%c prop to %cgroupContent."),topItems:yt(t.topItemCount,"Rename the %ctopItems%c prop to %ctopItemCount."),itemHeight:yt(t.fixedItemHeight,"Rename the %citemHeight%c prop to %cfixedItemHeight."),scrollingStateChange:yt(t.isScrolling,"Rename the %cscrollingStateChange%c prop to %cisScrolling."),adjustForPrependedItems:n(),maxHeightCacheSize:n(),footer:n(),header:n(),HeaderContainer:n(),FooterContainer:n(),ItemContainer:n(),ScrollContainer:n(),GroupContainer:n(),ListContainer:n(),emptyComponent:n(),scrollSeek:n()};function s(e,t,n){r(i(e,w(o.components),l(function(e){var o,r=e[0],i=e[1];return console.warn("react-virtuoso: "+n+" property is deprecated. Pass components."+t+" instead."),M({},i,((o={})[t]=r,o))})),o.components)}return d(u.adjustForPrependedItems,function(){console.warn("react-virtuoso: adjustForPrependedItems is no longer supported. Use the firstItemIndex property instead - https://virtuoso.dev/prepend-items.","color: red;","color: inherit;","color: blue;")}),d(u.maxHeightCacheSize,function(){console.warn("react-virtuoso: maxHeightCacheSize is no longer necessary. Setting it has no effect - remove it from your code.")}),d(u.HeaderContainer,function(){console.warn("react-virtuoso: HeaderContainer is deprecated. Use headerFooterTag if you want to change the wrapper of the header component and pass components.Header to change its contents.")}),d(u.FooterContainer,function(){console.warn("react-virtuoso: FooterContainer is deprecated. Use headerFooterTag if you want to change the wrapper of the footer component and pass components.Footer to change its contents.")}),d(u.scrollSeek,function(e){var n=e.placeholder,r=D(e,["placeholder"]);console.warn("react-virtuoso: scrollSeek property is deprecated. Pass scrollSeekConfiguration and specify the placeholder in components.ScrollSeekPlaceholder instead."),x(o.components,M({},a(o.components),{ScrollSeekPlaceholder:n})),x(t.scrollSeekConfiguration,r)}),s(u.footer,"Footer","footer"),s(u.header,"Header","header"),s(u.ItemContainer,"Item","ItemContainer"),s(u.ListContainer,"List","ListContainer"),s(u.ScrollContainer,"Scroller","ScrollContainer"),s(u.emptyComponent,"EmptyPlaceholder","emptyComponent"),s(u.GroupContainer,"Group","GroupContainer"),M({},t,o,u)},f(St,wt)),Ht=function(e){return O("div",{style:{height:e.height}})},Rt={position:xt(),zIndex:1,overflowAnchor:"none"},zt=P(function(e){var t=e.showTopList,n=void 0!==t&&t,o=Nt("listState"),r=Nt("deviation"),i=Ut("sizeRanges"),l=Nt("useWindowScroll"),a=Nt("customScrollParent"),u=Ut("windowScrollContainerState"),s=Ut("scrollContainerState"),c=a||l?u:s,d=Nt("itemContent"),f=Nt("context"),m=Nt("groupContent"),h=Nt("trackItemSizes"),p=Nt("itemSize"),g=Nt("log"),v=Qe(i,p,h,n?b:c,g,a),I=Nt("EmptyPlaceholder"),C=Nt("ScrollSeekPlaceholder")||Ht,S=Nt("ListComponent"),x=Nt("ItemComponent"),T=Nt("GroupComponent"),w=Nt("computeItemKey"),y=Nt("isSeeking"),H=Nt("groupIndices").length>0,R=Nt("paddingTopAddition"),z=Nt("firstItemIndex"),B=Nt("statefulTotalCount");g("top padding",o.offsetTop,U.DEBUG);var k=n?{}:{boxSizing:"border-box",paddingTop:o.offsetTop+R,paddingBottom:o.offsetBottom,marginTop:r};return!n&&0===B&&I?O(I,Lt(I,f)):O(S,M({},Lt(S,f),{ref:v,style:k,"data-test-id":n?"virtuoso-top-item-list":"virtuoso-item-list"}),(n?o.topItems:o.items).map(function(e){var t=e.originalIndex,n=w(t+z,e.data,f);return y?O(C,M({},Lt(C,f),{key:n,index:e.index,height:e.size,type:e.type||"item"},"group"===e.type?{}:{groupIndex:e.groupIndex})):"group"===e.type?O(T,M({},Lt(T,f),{key:n,"data-index":t,"data-known-size":e.size,"data-item-index":e.index,style:Rt}),m(e.index)):O(x,M({},Lt(x,f),{key:n,"data-index":t,"data-known-size":e.size,"data-item-index":e.index,"data-item-group-index":e.groupIndex,style:{overflowAnchor:"none"}}),H?d(e.index,e.groupIndex,e.data,f):d(e.index,e.data,f))}))}),Bt={height:"100%",outline:"none",overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},kt={width:"100%",height:"100%",position:"absolute",top:0},Et={width:"100%",position:xt(),top:0};function Lt(e,t){if("string"!=typeof e)return{context:t}}var Pt=P(function(){var e=Nt("HeaderComponent"),t=Ut("headerHeight"),n=Nt("headerFooterTag"),o=qe(function(e){return t(ve(e,"height"))}),r=Nt("context");return e?O(n,{ref:o},O(e,Lt(e,r))):null}),Ot=P(function(){var e=Nt("FooterComponent"),t=Ut("footerHeight"),n=Nt("headerFooterTag"),o=qe(function(e){return t(ve(e,"height"))}),r=Nt("context");return e?O(n,{ref:o},O(e,Lt(e,r))):null});function Mt(e){var t=e.usePublisher,n=e.useEmitter,o=e.useEmitterValue;return P(function(e){var r=e.style,i=e.children,l=D(e,["style","children"]),a=t("scrollContainerState"),u=o("ScrollerComponent"),s=t("smoothScrollTargetReached"),c=o("scrollerRef"),d=o("context"),f=Xe(a,s,u,c),m=f.scrollerRef,h=f.scrollByCallback;return n("scrollTo",f.scrollToCallback),n("scrollBy",h),O(u,M({ref:m,style:M({},Bt,r),"data-test-id":"virtuoso-scroller","data-virtuoso-scroller":!0,tabIndex:0},l,Lt(u,d)),i)})}function Dt(e){var t=e.usePublisher,n=e.useEmitter,o=e.useEmitterValue;return P(function(e){var r=e.style,i=e.children,l=D(e,["style","children"]),a=t("windowScrollContainerState"),u=o("ScrollerComponent"),s=t("smoothScrollTargetReached"),c=o("totalListHeight"),d=o("deviation"),f=o("customScrollParent"),m=o("context"),h=Xe(a,s,u,b,f),p=h.scrollerRef,g=h.scrollByCallback,v=h.scrollToCallback;return $e(function(){return p.current=f||window,function(){p.current=null}},[p,f]),n("windowScrollTo",v),n("scrollBy",g),O(u,M({style:M({position:"relative"},r,0!==c?{height:c+d}:{}),"data-virtuoso-scroller":!0},l,Lt(u,m)),i)})}var At=function(e){var t=e.children,n=Ut("viewportHeight"),o=qe(z(n,function(e){return ve(e,"height")}));return O("div",{style:kt,ref:o,"data-viewport-type":"element"},t)},Vt=function(e){var t=e.children,n=Je(Ut("windowViewportRect"),Nt("customScrollParent"));return O("div",{ref:n,style:kt,"data-viewport-type":"window"},t)},Wt=function(e){var t=e.children,n=Nt("TopItemListComponent"),o=Nt("headerHeight"),r=M({},Et,{marginTop:o+"px"}),i=Nt("context");return O(n||"div",{style:r,context:i},t)},Gt=e(bt,{required:{},optional:{context:"context",followOutput:"followOutput",firstItemIndex:"firstItemIndex",itemContent:"itemContent",groupContent:"groupContent",overscan:"overscan",increaseViewportBy:"increaseViewportBy",totalCount:"totalCount",topItemCount:"topItemCount",initialTopMostItemIndex:"initialTopMostItemIndex",components:"components",groupCounts:"groupCounts",atBottomThreshold:"atBottomThreshold",computeItemKey:"computeItemKey",defaultItemHeight:"defaultItemHeight",fixedItemHeight:"fixedItemHeight",itemSize:"itemSize",scrollSeekConfiguration:"scrollSeekConfiguration",headerFooterTag:"headerFooterTag",data:"data",initialItemCount:"initialItemCount",initialScrollTop:"initialScrollTop",alignToBottom:"alignToBottom",useWindowScroll:"useWindowScroll",customScrollParent:"customScrollParent",scrollerRef:"scrollerRef",logLevel:"logLevel",item:"item",group:"group",topItems:"topItems",itemHeight:"itemHeight",scrollingStateChange:"scrollingStateChange",maxHeightCacheSize:"maxHeightCacheSize",footer:"footer",header:"header",ItemContainer:"ItemContainer",ScrollContainer:"ScrollContainer",ListContainer:"ListContainer",GroupContainer:"GroupContainer",emptyComponent:"emptyComponent",HeaderContainer:"HeaderContainer",FooterContainer:"FooterContainer",scrollSeek:"scrollSeek"},methods:{scrollToIndex:"scrollToIndex",scrollIntoView:"scrollIntoView",scrollTo:"scrollTo",scrollBy:"scrollBy",adjustForPrependedItems:"adjustForPrependedItems"},events:{isScrolling:"isScrolling",endReached:"endReached",startReached:"startReached",rangeChanged:"rangeChanged",atBottomStateChange:"atBottomStateChange",atTopStateChange:"atTopStateChange",totalListHeightChanged:"totalListHeightChanged",itemsRendered:"itemsRendered",groupIndices:"groupIndices"}},P(function(e){var t=Nt("useWindowScroll"),n=Nt("topItemsIndexes").length>0,o=Nt("customScrollParent"),r=o||t?Vt:At;return O(o||t?Kt:jt,M({},e),O(r,null,O(Pt,null),O(zt,null),O(Ot,null)),n&&O(Wt,null,O(zt,{showTopList:!0})))})),Ft=Gt.Component,Ut=Gt.usePublisher,Nt=Gt.useEmitterValue,_t=Gt.useEmitter,jt=Mt({usePublisher:Ut,useEmitterValue:Nt,useEmitter:_t}),Kt=Dt({usePublisher:Ut,useEmitterValue:Nt,useEmitter:_t}),Yt=t(function(){var e=o(function(e){return"Item "+e}),t=o({}),n=o(null),r=o("virtuoso-grid-item"),a=o("virtuoso-grid-list"),u=o(Tt),s=o(b),d=function(e,n){return void 0===n&&(n=null),I(i(t,l(function(t){return t[e]}),c()),n)};return{context:n,itemContent:e,components:t,computeItemKey:u,itemClassName:r,listClassName:a,scrollerRef:s,ListComponent:d("List","div"),ItemComponent:d("Item","div"),ScrollerComponent:d("Scroller","div"),ScrollSeekPlaceholder:d("ScrollSeekPlaceholder","div")}}),Zt=t(function(e){var t=e[0],o=e[1],u={item:yt(o.itemContent,"Rename the %citem%c prop to %citemContent."),ItemContainer:n(),ScrollContainer:n(),ListContainer:n(),emptyComponent:n(),scrollSeek:n()};function s(e,t,n){r(i(e,w(o.components),l(function(e){var o,r=e[0],i=e[1];return console.warn("react-virtuoso: "+n+" property is deprecated. Pass components."+t+" instead."),M({},i,((o={})[t]=r,o))})),o.components)}return d(u.scrollSeek,function(e){var n=e.placeholder,r=D(e,["placeholder"]);console.warn("react-virtuoso: scrollSeek property is deprecated. Pass scrollSeekConfiguration and specify the placeholder in components.ScrollSeekPlaceholder instead."),x(o.components,M({},a(o.components),{ScrollSeekPlaceholder:n})),x(t.scrollSeekConfiguration,r)}),s(u.ItemContainer,"Item","ItemContainer"),s(u.ListContainer,"List","ListContainer"),s(u.ScrollContainer,"Scroller","ScrollContainer"),M({},t,o,u)},f(_e,Yt)),qt=P(function(){var e=tn("gridState"),t=tn("listClassName"),n=tn("itemClassName"),o=tn("itemContent"),r=tn("computeItemKey"),i=tn("isSeeking"),l=en("scrollHeight"),a=tn("ItemComponent"),u=tn("ListComponent"),s=tn("ScrollSeekPlaceholder"),c=tn("context"),d=en("itemDimensions"),f=qe(function(e){l(e.parentElement.parentElement.scrollHeight);var t=e.firstChild;t&&d(t.getBoundingClientRect())});return O(u,M({ref:f,className:t},Lt(u,c),{style:{paddingTop:e.offsetTop,paddingBottom:e.offsetBottom}}),e.items.map(function(t){var l=r(t.index);return i?O(s,M({key:l},Lt(s,c),{index:t.index,height:e.itemHeight,width:e.itemWidth})):O(a,M({},Lt(a,c),{className:n,"data-index":t.index,key:l}),o(t.index,c))}))}),Jt=function(e){var t=e.children,n=en("viewportDimensions"),o=qe(function(e){n(e.getBoundingClientRect())});return O("div",{style:kt,ref:o},t)},$t=function(e){var t=e.children,n=Je(en("windowViewportRect"),tn("customScrollParent"));return O("div",{ref:n,style:kt},t)},Qt=e(Zt,{optional:{totalCount:"totalCount",overscan:"overscan",itemContent:"itemContent",components:"components",computeItemKey:"computeItemKey",initialItemCount:"initialItemCount",scrollSeekConfiguration:"scrollSeekConfiguration",listClassName:"listClassName",itemClassName:"itemClassName",useWindowScroll:"useWindowScroll",customScrollParent:"customScrollParent",scrollerRef:"scrollerRef",item:"item",ItemContainer:"ItemContainer",ScrollContainer:"ScrollContainer",ListContainer:"ListContainer",scrollSeek:"scrollSeek"},methods:{scrollTo:"scrollTo",scrollBy:"scrollBy",scrollToIndex:"scrollToIndex"},events:{isScrolling:"isScrolling",endReached:"endReached",startReached:"startReached",rangeChanged:"rangeChanged",atBottomStateChange:"atBottomStateChange",atTopStateChange:"atTopStateChange"}},P(function(e){var t=M({},e),n=tn("useWindowScroll"),o=tn("customScrollParent"),r=o||n?$t:Jt;return O(o||n?rn:on,M({},t),O(r,null,O(qt,null)))})),Xt=Qt.Component,en=Qt.usePublisher,tn=Qt.useEmitterValue,nn=Qt.useEmitter,on=Mt({usePublisher:en,useEmitterValue:tn,useEmitter:nn}),rn=Dt({usePublisher:en,useEmitterValue:tn,useEmitter:nn}),ln=t(function(){var e=o(function(e){return O("td",null,"Item $",e)}),t=o(null),n=o(null),r=o({}),a=o(Tt),u=o(b),s=function(e,t){return void 0===t&&(t=null),I(i(r,l(function(t){return t[e]}),c()),t)};return{context:t,itemContent:e,fixedHeaderContent:n,components:r,computeItemKey:a,scrollerRef:u,TableComponent:s("Table","table"),TableHeadComponent:s("TableHead","thead"),TableBodyComponent:s("TableBody","tbody"),TableRowComponent:s("TableRow","tr"),ScrollerComponent:s("Scroller","div"),EmptyPlaceholder:s("EmptyPlaceholder"),ScrollSeekPlaceholder:s("ScrollSeekPlaceholder")}}),an=t(function(e){return M({},e[0],e[1])},f(St,ln)),un=function(e){return O("tr",null,O("td",{style:{height:e.height}}))},sn=function(e){return O("tr",null,O("td",{style:{height:e.height,padding:0,border:0}}))},cn=P(function(){var e=gn("listState"),t=gn("deviation"),n=pn("sizeRanges"),o=gn("useWindowScroll"),r=gn("customScrollParent"),i=pn("windowScrollContainerState"),l=pn("scrollContainerState"),a=r||o?i:l,u=gn("itemContent"),s=gn("trackItemSizes"),c=Qe(n,gn("itemSize"),s,a,gn("log"),r),d=gn("EmptyPlaceholder"),f=gn("ScrollSeekPlaceholder")||un,m=gn("TableBodyComponent"),h=gn("TableRowComponent"),p=gn("computeItemKey"),g=gn("isSeeking"),v=gn("paddingTopAddition"),I=gn("firstItemIndex"),C=gn("statefulTotalCount"),S=gn("context");if(0===C&&d)return O(d,Lt(d,S));var x=e.offsetTop+v+t,T=e.offsetBottom,w=x>0?O(sn,{height:x,key:"padding-top"}):null,y=T>0?O(sn,{height:T,key:"padding-bottom"}):null,b=e.items.map(function(e){var t=e.originalIndex,n=p(t+I,e.data,S);return g?O(f,M({},Lt(f,S),{key:n,index:e.index,height:e.size,type:e.type||"item"})):O(h,M({},Lt(h,S),{key:n,"data-index":t,"data-known-size":e.size,"data-item-index":e.index,style:{overflowAnchor:"none"}}),u(e.index,e.data,S))});return O(m,M({ref:c,"data-test-id":"virtuoso-item-list"},Lt(m,S)),[w].concat(b,[y]))}),dn=function(e){var t=e.children,n=pn("viewportHeight"),o=qe(z(n,function(e){return ve(e,"height")}));return O("div",{style:kt,ref:o,"data-viewport-type":"element"},t)},fn=function(e){var t=e.children,n=Je(pn("windowViewportRect"),gn("customScrollParent"));return O("div",{ref:n,style:kt,"data-viewport-type":"window"},t)},mn=e(an,{required:{},optional:{context:"context",followOutput:"followOutput",firstItemIndex:"firstItemIndex",itemContent:"itemContent",fixedHeaderContent:"fixedHeaderContent",overscan:"overscan",increaseViewportBy:"increaseViewportBy",totalCount:"totalCount",topItemCount:"topItemCount",initialTopMostItemIndex:"initialTopMostItemIndex",components:"components",groupCounts:"groupCounts",atBottomThreshold:"atBottomThreshold",computeItemKey:"computeItemKey",defaultItemHeight:"defaultItemHeight",fixedItemHeight:"fixedItemHeight",itemSize:"itemSize",scrollSeekConfiguration:"scrollSeekConfiguration",data:"data",initialItemCount:"initialItemCount",initialScrollTop:"initialScrollTop",alignToBottom:"alignToBottom",useWindowScroll:"useWindowScroll",customScrollParent:"customScrollParent",scrollerRef:"scrollerRef",logLevel:"logLevel"},methods:{scrollToIndex:"scrollToIndex",scrollIntoView:"scrollIntoView",scrollTo:"scrollTo",scrollBy:"scrollBy"},events:{isScrolling:"isScrolling",endReached:"endReached",startReached:"startReached",rangeChanged:"rangeChanged",atBottomStateChange:"atBottomStateChange",atTopStateChange:"atTopStateChange",totalListHeightChanged:"totalListHeightChanged",itemsRendered:"itemsRendered",groupIndices:"groupIndices"}},P(function(e){var t=gn("useWindowScroll"),n=gn("customScrollParent"),o=pn("fixedHeaderHeight"),r=gn("fixedHeaderContent"),i=gn("context"),l=qe(z(o,function(e){return ve(e,"height")})),a=n||t?Cn:In,u=n||t?fn:dn,s=gn("TableComponent"),c=gn("TableHeadComponent"),d=r?O(c,M({key:"TableHead",style:{zIndex:1,position:"sticky",top:0},ref:l},Lt(c,i)),r()):null;return O(a,M({},e),O(u,null,O(s,M({style:{borderSpacing:0}},Lt(s,i)),[d,O(cn,{key:"TableBody"})])))})),hn=mn.Component,pn=mn.usePublisher,gn=mn.useEmitterValue,vn=mn.useEmitter,In=Mt({usePublisher:pn,useEmitterValue:gn,useEmitter:vn}),Cn=Dt({usePublisher:pn,useEmitterValue:gn,useEmitter:vn}),Sn=Ft,xn=Ft,Tn=hn,wn=Xt;export{xn as GroupedVirtuoso,U as LogLevel,Tn as TableVirtuoso,Sn as Virtuoso,wn as VirtuosoGrid};
//# sourceMappingURL=index.m.js.map
